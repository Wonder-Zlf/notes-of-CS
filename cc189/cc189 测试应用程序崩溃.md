# cc189 测试应用程序崩溃

## 题目描述

有个应用程序一运行就崩溃，现在你拿到了源码。在调试器中运行10次之后，你发现该应用程序每次崩溃的位置都不一样。这个应用只有一个线程，并且只调用C标准库函数。究竟是什么样的编程错误导致程序崩溃？该如何逐一测试每种错误？

## 解决

### 实用第一，先总结解决方案

1）排除法：关闭系统中其他所有应用，仔细追踪资源使用情况。如果该程序可以有些部分关掉，那就设法关闭。

2）复现法：在另外一台机器上重现同一问题，对比运行日志。

3）工具检查：我们可以使用运行时工具、监控平台来检查未初始化变量。

### 常见原因总结

1）随机变量：改应用程序可能用到某个随机变量或可变分量，程序每次执行时取值不定。具体的例子包括用户输入、程序生成的随机数，或当前时间等。

2）未初始化变量：该应用程序可能包含一个未初始化变量，在某些语言中，该变量可能含有任意值。这个变量取不同值可能导致代码每次执行路径有所不同。

3）内存泄露：该程序可能存在内存溢出。每次运行时引发问题的可疑进程随机不定，这与当时运行的进程数量有关。另外还包括堆溢出或栈内数据被破坏。

4）外部依赖：该程序可能依赖别的应用程序、机器或资源。要是存在多出依赖，程序就可能在任意位置崩溃

